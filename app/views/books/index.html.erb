
    <section id="index">
  <div class="container my-5">
    <h1>Liste des livres</h1>
    <div class="text-end">
      <a href="/books/create" class="btn btn-primary btn-sm">Nouveau</a>
    </div>

    <table class="table table-dark table-striped">
      <thead>
        <tr>
          <th>Id</th>
          <th>Titre</th>
          <th>Auteur</th>
          <th>Genre</th>
          <th>Année de publication</th>
          <th>Exemplaires disponibles</th>
          <th>ISBN</th>
          <th>Image</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @books&.each do |book| %>
          <tr>
            <td><%= book.id %></td>
            <td><%= book.titre %></td>
            <td><%= book.auteur %></td>
            <td><%= book.genre %></td>
            <td><%= book.annee_publication %></td>
            <td><%= book.exemplaires_disponibles %></td>
            <td><%= book.isbn %></td>
            <td class="text-center">
              <% if book.image.attached? %>
                <%= image_tag book.image, alt: "Image du livre", class: "rounded-circle", width: "40", height: "50" %>
              <% else %>
                <%= image_tag "default-image.png", alt: "Image par défaut", class: "rounded-circle", width: "40", height: "40" %>
              <% end %>
            </td>
            <td class="text-center">
              <%= link_to 'Supprimer', book, method: :delete, data: { confirm: 'Êtes-vous sûr de vouloir supprimer ce livre ?' }, class: "btn btn-outline-danger btn-sm" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</section>

    <script>
        function deletePatient(id) {
            if(confirm('Etes vous sure de vouloir supprimer cette enregistrement ?')){
                document.getElementById('delete-' + id).submit();
            }
        }
    </script>


